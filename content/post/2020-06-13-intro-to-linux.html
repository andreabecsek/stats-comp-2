---
title: Intro to Linux
author: ''
date: '2020-06-13'
slug: intro-to-linux
categories: []
tags:
  - linux
  - bash
---



<p>Linux is a open-source version of the UNIX operating system.</p>
<ul>
<li>Kernel: heart of the operating system and manages everything from memory to hardware devices.</li>
<li>Shell: interface between the user and the kernel. There are different types of shells, for example Bourne shell (sh) and Bourne Again Shell (bash) etc.</li>
</ul>
<div id="users" class="section level2">
<h2>Users</h2>
<p>First of all, since linux is a multiuser system, we might want to check the following:</p>
<ul>
<li>who you are logged in as using <code>whoami</code></li>
<li>who else is logged in: <code>users</code> or <code>who</code> for more details</li>
</ul>
<p><img src="/post/2020-06-13-intro-to-linux_files/who.png" /></p>
</div>
<div id="file-management" class="section level2">
<h2>File management</h2>
<p>All the data is organized into files and directories, all of which are organized into a tree structure.</p>
<div id="list-files" class="section level5">
<h5>List Files</h5>
<p>To list the files in a directory use <code>ls</code>, which by default lists by alphabetical order. There are various attributes that can be used with <code>ls</code>, for example</p>
<ul>
<li><code>ls -t</code>: list files based on the time they were last changed</li>
<li><code>ls -r</code>: list in reverse order</li>
<li><code>ls -l</code>: list files with more information such as file type, permission, size etc.</li>
<li><code>ls -a</code>: list all files, including the invisible ones whose file name starts with a dot.</li>
<li><code>ls -r</code>: list files</li>
</ul>
</div>
<div id="create-files" class="section level5">
<h5>Create files</h5>
<p>Files can be created using a text editor, such as <em>vim</em>.</p>
<ul>
<li>create file: <code>touch file_name.txt</code></li>
<li>edit file: <code>vim file_name.txt</code></li>
<li>enter editing mode by pressing <code>i</code> on the keyboard</li>
<li>exit editing mode using <code>Esc</code></li>
<li>close and save file by typing <code>:wq</code></li>
</ul>
</div>
<div id="examine-file-content" class="section level5">
<h5>Examine file content</h5>
<ul>
<li>display file content: <code>cat file_name</code> (use <code>cat -b</code> to add line numbers)</li>
<li>display first 5 lines of a file: <code>head -n5 file_name</code>. The default number of lines to be displayed is <span class="math inline">\(10\)</span>.</li>
<li>display the last 7 lines of a file: <code>tail -n7 file_name</code>.</li>
<li>display lines, words, size (in bytes), and filename of a file: <code>wc file_name</code>. This can be done for multiple files at the same time.</li>
</ul>
</div>
<div id="wildcards" class="section level5">
<h5>Wildcards</h5>
<p>Wildcards are used when we want to perform some operation on multiple files at the same time. Two wildcards:</p>
<ul>
<li><code>?</code>: represents a single character</li>
<li><code>*</code>: represents zero or more characters.</li>
</ul>
<p>Say we want to find all files with a <code>.pdf</code> extension. Then we can use <code>*.pdf</code>.</p>
</div>
</div>
<div id="directory-management" class="section level2">
<h2>Directory management</h2>
<ul>
<li>current folder: <code>pwd</code></li>
<li>change directory: <code>cd foldername</code></li>
<li>go to parent directory:<code>cd ..</code></li>
<li>go to home directory: <code>cd</code> or <code>cd ~</code></li>
<li>go to root directory: <code>cd /</code> (one directory to rule them all). Paths starting with <code>/</code> are absolute, and those without are relative to the directory the we are currently in.</li>
<li>make new directory: <code>mkdir</code></li>
<li>rename directory: <code>mv old_dir new_dir</code></li>
</ul>
</div>
<div id="getting-help" class="section level2">
<h2>Getting help</h2>
<ul>
<li><code>man command_name</code>: get description of a command in the terminal (or similarly <code>command_name --help</code>)</li>
<li><code>whatis command_name</code>: single-line description of the command</li>
</ul>
</div>
<div id="file-and-folder-actions" class="section level2">
<h2>File and Folder Actions</h2>
<div id="copy-rename-delete" class="section level5">
<h5>Copy, rename, delete:</h5>
<ul>
<li>copy file from one directory to another: <code>cp source_dir destination_dir</code></li>
<li>copy folder into another directory: <code>cp -r source_dir destination_dir</code></li>
<li>make copy of a file: <code>cp original_file copy_file</code></li>
<li>rename file or folder: <code>mv old_name new_name</code></li>
<li>delete file: <code>rm file_name</code></li>
<li>delete entire directory <code>rm -r directory_name</code></li>
</ul>
</div>
</div>
<div id="operations-and-pipes" class="section level2">
<h2>Operations and Pipes</h2>
<div id="find" class="section level5">
<h5>Find</h5>
<ul>
<li><code>find . file_name</code>: search entire folder that you are in for a specific file</li>
<li><code>find . -name *.pdf</code>: find all <code>.pdf</code> files. Can be used with any extension and pattern in the file nam.</li>
<li><code>find . file_name -exec '{}' \;</code>: once the file is found we execute the <code>rm</code> command on the file. Can beused with various commands.</li>
</ul>
</div>
<div id="sort" class="section level5">
<h5>Sort</h5>
<ul>
<li>sort contents of a file alphabetically: <code>sort file_name</code></li>
<li>sort contents of a file numerically: <code>sort -n file_name</code></li>
</ul>
</div>
<div id="redirecting" class="section level5">
<h5>Redirecting</h5>
<p>We can perform a command and redirect is to</p>
<ul>
<li>the same file: <code>command file_name &gt; file_name</code> (not recommended as it overwrites)</li>
<li>a different file: <code>command file_name &gt;&gt; different_file</code> (appends at the end of the file)</li>
</ul>
</div>
<div id="pipes" class="section level5">
<h5>Pipes</h5>
<p>The pipe operator <code>|</code> takes the output of the command on the left and uses it as an input for the command on the right.</p>
<p>For example, to get the 5 lowest numbers in a file we can do</p>
<p><code>sort -n file_name.txt | head -n5</code></p>
</div>
</div>
<div id="shell-scripts" class="section level2">
<h2>Shell scripts</h2>
<ul>
<li>create a shell script: <code>touch script.sh</code></li>
<li>run script using: <code>bash script.sh</code></li>
</ul>
</div>
<div id="application" class="section level1">
<h1>Application</h1>
<p>We are going to pick <span class="math inline">\(4\)</span> books from Project Gutenberg and perform a very basic text analysis using bash.</p>
<p>To download the files we use <code>wget</code>, which is a utility specifically designed for extracting files from the web.</p>
<p>First, make a directory where to place the files. Then, we create an input file that will contains the URLs from where we want to download from.</p>
<p><img src="/post/2020-06-13-intro-to-linux_files/create_books_dir.png" /></p>
<p>Now, we use <code>wget</code> as follows to download the <code>.txt</code> files recursively from the given URLs.</p>
<p><img src="/post/2020-06-13-intro-to-linux_files/wget.png" /></p>
<p>And now, as it can be seen we have the four books in separate directories, which contain the needed files and some additional files too.</p>
<p><img src="/post/2020-06-13-intro-to-linux_files/explore_dir.png" /></p>
<p>These are all the text files in the directory.</p>
<p><img src="/post/2020-06-13-intro-to-linux_files/all_txt_files.png" /></p>
<p>Remove all the old versions of the files</p>
<p><img src="/post/2020-06-13-intro-to-linux_files/remove_old.png" /></p>
<p>And we are left with</p>
<p><img src="/post/2020-06-13-intro-to-linux_files/filess.png" /></p>
<p>Now copy all the files into the main <code>books</code> directory. To do so we find all the remaining <code>.txt</code> files and then we execute the <code>cp</code> command to copy the files into the current directory using:</p>
<p><img src="/post/2020-06-13-intro-to-linux_files/all_in_books.png" /></p>
<p>After removing the unnecessary folders we are left with:</p>
<p><img src="/post/2020-06-13-intro-to-linux_files/the_4.png" /></p>
<p>Let’s see the first line of each file
<img src="/post/2020-06-13-intro-to-linux_files/first_lines.png" /></p>
<!-- We are going to rename each file according to the name of the book that is mentioned in the first line of the file. -->
<p>Count the number of words in each file and sort them in ascending order. Note that we have finally renamed our files with their corresponding titles.</p>
<p><img src="/post/2020-06-13-intro-to-linux_files/rename.png" /></p>
<p>Now, we want to reduce the text to a list of words using</p>
<p><code>cat file.txt | tr &quot; &quot; &quot;\n&quot; | tr -d '[:punct:] | tr '[:upper:]' '[:lower:]</code></p>
<ul>
<li><code>cat</code>: read the file</li>
<li><code>tr &quot; &quot; &quot;\n&quot;</code>: translate all the spaces to new lines</li>
<li><code>tr -d '[:punct:]'</code>: delete the punctuation marks</li>
<li><code>tr '[:upper:]' '[:lower:]'</code>: convert everything to lowercase</li>
</ul>
<p>To see the <span class="math inline">\(10\)</span> most used words we can append the pipe with <code>| sort | uniq -c| sort -n | tail -n 10</code>.</p>
<p><img src="/post/2020-06-13-intro-to-linux_files/words_count.png" /></p>
<p>But note that there are many words that do not tell us much about the content, such as prepositions, conjuctions etc. So we use a list of stop words to remove all these words. So applying our final expression to one of the files, we obtain the following</p>
<p><img src="/post/2020-06-13-intro-to-linux_files/count_without_stop_words.png" /></p>
<p>Given that this is a play, it makes sense that the most used words are the characters’ names.</p>
<p>Now we want to apply this analysis to every file and store the results in different files. For this we create the following bash script:</p>
<p><img src="/post/2020-06-13-intro-to-linux_files/word_count_sh.png" /></p>
<p>After running it we obtain the new files that contain the most used words</p>
<p><img src="/post/2020-06-13-intro-to-linux_files/count_files_emerge.png" /></p>
<p>And the final results look are the following
<img src="/post/2020-06-13-intro-to-linux_files/results.png" /></p>
<p>The conclusion that we can draw is that doing this sort of basic analysis at most provides the names of the main characters, and various other common words, that don’t necessarily tell us a huge deal about the stories.</p>
<p>This just proves the point that any complicated analysis is not to be done in bash because its main role is to act as a glue that holds our workflow together by enabling us to do quick and easy file manipulations.</p>
</div>
